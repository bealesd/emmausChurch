@model UserInfo

@{
    var users = (List<UserInfo>)ViewData["users"];
}

<div class="mainWrapper">

    <!--#region table  -->
    <div class="userManagement">

        <div class="title">
            User Management
        </div>

        <div class="fieldOne table-header">
            <p>Email</p>
        </div>

        <div class="fieldTwo table-header">
            <p>Roles</p>
        </div>

        <div class="fieldThree table-header">
            <p></p>
        </div>

        @foreach (var user in users)
        {
            <div class="fieldOne">
                <p>@user.EmailAddress</p>
            </div>
            <div class="fieldTwo">
                <p>
                    @String.Join(" ", user.Roles)
                    
                    
                </p>
            </div>
            <div class="fieldThree">
                <p>
                    <a onclick="ConfirmDelete('Delete User?')"
                       asp-action="DeleteUser" asp-route-email="@user.EmailAddress"><span class="glyphicon glyphicon-trash"></span></a>
                </p>
            </div>
        }

        <!--#endregion -->

    </div>
</div>

<script>
    function ConfirmDelete(message) {
        if (confirm(message)) {
            return;
        }
        event.preventDefault();
    }
</script>