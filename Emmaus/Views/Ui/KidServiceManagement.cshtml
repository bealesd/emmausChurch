@using Emmaus.Helper;
@{
    var services = (IEnumerable<Service>)ViewData["services"];
    string newTitle = ServiceListHelper.Title(services, "Kids");
}

<div class="mainWrapper">

    <div class="title">
        @Html.Raw(@newTitle)
    </div>

    <!--#region table  -->
    <div class="editTable">

        <div class="fieldOne table-header">
            <p>Date</p>
        </div>

        <div class="fieldTwo table-header">
            <p>Story</p>
        </div>

        <div class="fieldThree table-header">
            <p>Text</p>
        </div>

        <div class="fieldFour table-header">
            <p>Speaker</p>
        </div>

        <div class="fieldFive table-header">
            <p>Delete</p>
        </div>

        @foreach (var service in services)
        {
            <div class="fieldOne">
                <p>@service.ToDayMonth()</p>
            </div>
            <div class="fieldTwo">
                <p>
                    @service.Story
                </p>
            </div>
            <div class="fieldThree">
                <p>@service.Text</p>
            </div>
            <div class="fieldFour">
                <p>@service.Speaker</p>
            </div>
            <div class="fieldFive">
                <p>
                    <a onclick="ConfirmDelete('Delete Service?')" asp-action="DeleteKidService" asp-route-id="@service.Id">Delete</a>
                </p>
            </div>
        }

    </div>
    <!--#endregion -->
</div>


<script>
    function ConfirmDelete(message) {
        if (confirm(message)) {
            return;
        }
        event.preventDefault();
    }
</script>